{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await _servicesApi.authAPI.getMe();\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Error loading auth:', error);\n        await AsyncStorage.default.removeItem('token');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await _servicesApi.authAPI.login({\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', newToken);\n      setToken(newToken);\n      setUser(userData);\n    };\n    const signup = async data => {\n      const response = await _servicesApi.authAPI.signup(data);\n      const {\n        token: newToken,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', newToken);\n      setToken(newToken);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = async data => {\n      const response = await _servicesApi.authAPI.updateProfile(data);\n      setUser(response.data);\n    };\n    const refreshUser = async () => {\n      const response = await _servicesApi.authAPI.getMe();\n      setUser(response.data);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        signup,\n        logout,\n        updateUser,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":115,"map":[[15,2,28,0,"exports"],[15,9,28,0],[15,10,28,0,"AuthProvider"],[15,22,28,0],[15,25,28,0,"AuthProvider"],[15,37,28,0],[16,2,92,0,"exports"],[16,9,92,0],[16,10,92,0,"useAuth"],[16,17,92,0],[16,20,92,0,"useAuth"],[16,27,92,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_servicesApi"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,3,42],[21,6,3,42,"_reactJsxDevRuntime"],[21,25,3,42],[21,28,3,42,"require"],[21,35,3,42],[21,36,3,42,"_dependencyMap"],[21,50,3,42],[22,2,26,0],[22,8,26,6,"AuthContext"],[22,19,26,17],[22,35,26,20],[22,39,26,20,"createContext"],[22,45,26,33],[22,46,26,33,"createContext"],[22,59,26,33],[22,61,26,63,"undefined"],[22,70,26,72],[22,71,26,73],[23,2,28,7],[23,11,28,16,"AuthProvider"],[23,23,28,28,"AuthProvider"],[23,24,28,29],[24,4,28,31,"children"],[25,2,28,65],[25,3,28,66],[25,5,28,68],[26,4,28,68,"_s"],[26,6,28,68],[27,4,29,2],[27,10,29,8],[27,11,29,9,"user"],[27,15,29,13],[27,17,29,15,"setUser"],[27,24,29,22],[27,25,29,23],[27,28,29,26],[27,32,29,26,"useState"],[27,38,29,34],[27,39,29,34,"useState"],[27,47,29,34],[27,49,29,48],[27,53,29,52],[27,54,29,53],[28,4,30,2],[28,10,30,8],[28,11,30,9,"token"],[28,16,30,14],[28,18,30,16,"setToken"],[28,26,30,24],[28,27,30,25],[28,30,30,28],[28,34,30,28,"useState"],[28,40,30,36],[28,41,30,36,"useState"],[28,49,30,36],[28,51,30,52],[28,55,30,56],[28,56,30,57],[29,4,31,2],[29,10,31,8],[29,11,31,9,"isLoading"],[29,20,31,18],[29,22,31,20,"setIsLoading"],[29,34,31,32],[29,35,31,33],[29,38,31,36],[29,42,31,36,"useState"],[29,48,31,44],[29,49,31,44,"useState"],[29,57,31,44],[29,59,31,45],[29,63,31,49],[29,64,31,50],[30,4,33,2],[30,8,33,2,"useEffect"],[30,14,33,11],[30,15,33,11,"useEffect"],[30,24,33,11],[30,26,33,12],[30,32,33,18],[31,6,34,4,"loadStoredAuth"],[31,20,34,18],[31,21,34,19],[31,22,34,20],[32,4,35,2],[32,5,35,3],[32,7,35,5],[32,9,35,7],[32,10,35,8],[33,4,37,2],[33,10,37,8,"loadStoredAuth"],[33,24,37,22],[33,27,37,25],[33,33,37,25,"loadStoredAuth"],[33,34,37,25],[33,39,37,37],[34,6,38,4],[34,10,38,8],[35,8,39,6],[35,14,39,12,"storedToken"],[35,25,39,23],[35,28,39,26],[35,34,39,32,"AsyncStorage"],[35,46,39,44],[35,47,39,44,"default"],[35,54,39,44],[35,55,39,45,"getItem"],[35,62,39,52],[35,63,39,53],[35,70,39,60],[35,71,39,61],[36,8,40,6],[36,12,40,10,"storedToken"],[36,23,40,21],[36,25,40,23],[37,10,41,8,"setToken"],[37,18,41,16],[37,19,41,17,"storedToken"],[37,30,41,28],[37,31,41,29],[38,10,42,8],[38,16,42,14,"response"],[38,24,42,22],[38,27,42,25],[38,33,42,31,"authAPI"],[38,45,42,38],[38,46,42,38,"authAPI"],[38,53,42,38],[38,54,42,39,"getMe"],[38,59,42,44],[38,60,42,45],[38,61,42,46],[39,10,43,8,"setUser"],[39,17,43,15],[39,18,43,16,"response"],[39,26,43,24],[39,27,43,25,"data"],[39,31,43,29],[39,32,43,30],[40,8,44,6],[41,6,45,4],[41,7,45,5],[41,8,45,6],[41,15,45,13,"error"],[41,20,45,18],[41,22,45,20],[42,8,46,6,"console"],[42,15,46,13],[42,16,46,14,"log"],[42,19,46,17],[42,20,46,18],[42,41,46,39],[42,43,46,41,"error"],[42,48,46,46],[42,49,46,47],[43,8,47,6],[43,14,47,12,"AsyncStorage"],[43,26,47,24],[43,27,47,24,"default"],[43,34,47,24],[43,35,47,25,"removeItem"],[43,45,47,35],[43,46,47,36],[43,53,47,43],[43,54,47,44],[44,6,48,4],[44,7,48,5],[44,16,48,14],[45,8,49,6,"setIsLoading"],[45,20,49,18],[45,21,49,19],[45,26,49,24],[45,27,49,25],[46,6,50,4],[47,4,51,2],[47,5,51,3],[48,4,53,2],[48,10,53,8,"login"],[48,15,53,13],[48,18,53,16],[48,24,53,16,"login"],[48,25,53,23,"email"],[48,30,53,36],[48,32,53,38,"password"],[48,40,53,54],[48,45,53,59],[49,6,54,4],[49,12,54,10,"response"],[49,20,54,18],[49,23,54,21],[49,29,54,27,"authAPI"],[49,41,54,34],[49,42,54,34,"authAPI"],[49,49,54,34],[49,50,54,35,"login"],[49,55,54,40],[49,56,54,41],[50,8,54,43,"email"],[50,13,54,48],[51,8,54,50,"password"],[52,6,54,59],[52,7,54,60],[52,8,54,61],[53,6,55,4],[53,12,55,10],[54,8,55,12,"token"],[54,13,55,17],[54,15,55,19,"newToken"],[54,23,55,27],[55,8,55,29,"user"],[55,12,55,33],[55,14,55,35,"userData"],[56,6,55,44],[56,7,55,45],[56,10,55,48,"response"],[56,18,55,56],[56,19,55,57,"data"],[56,23,55,61],[57,6,56,4],[57,12,56,10,"AsyncStorage"],[57,24,56,22],[57,25,56,22,"default"],[57,32,56,22],[57,33,56,23,"setItem"],[57,40,56,30],[57,41,56,31],[57,48,56,38],[57,50,56,40,"newToken"],[57,58,56,48],[57,59,56,49],[58,6,57,4,"setToken"],[58,14,57,12],[58,15,57,13,"newToken"],[58,23,57,21],[58,24,57,22],[59,6,58,4,"setUser"],[59,13,58,11],[59,14,58,12,"userData"],[59,22,58,20],[59,23,58,21],[60,4,59,2],[60,5,59,3],[61,4,61,2],[61,10,61,8,"signup"],[61,16,61,14],[61,19,61,17],[61,25,61,24,"data"],[61,29,61,99],[61,33,61,104],[62,6,62,4],[62,12,62,10,"response"],[62,20,62,18],[62,23,62,21],[62,29,62,27,"authAPI"],[62,41,62,34],[62,42,62,34,"authAPI"],[62,49,62,34],[62,50,62,35,"signup"],[62,56,62,41],[62,57,62,42,"data"],[62,61,62,46],[62,62,62,47],[63,6,63,4],[63,12,63,10],[64,8,63,12,"token"],[64,13,63,17],[64,15,63,19,"newToken"],[64,23,63,27],[65,8,63,29,"user"],[65,12,63,33],[65,14,63,35,"userData"],[66,6,63,44],[66,7,63,45],[66,10,63,48,"response"],[66,18,63,56],[66,19,63,57,"data"],[66,23,63,61],[67,6,64,4],[67,12,64,10,"AsyncStorage"],[67,24,64,22],[67,25,64,22,"default"],[67,32,64,22],[67,33,64,23,"setItem"],[67,40,64,30],[67,41,64,31],[67,48,64,38],[67,50,64,40,"newToken"],[67,58,64,48],[67,59,64,49],[68,6,65,4,"setToken"],[68,14,65,12],[68,15,65,13,"newToken"],[68,23,65,21],[68,24,65,22],[69,6,66,4,"setUser"],[69,13,66,11],[69,14,66,12,"userData"],[69,22,66,20],[69,23,66,21],[70,4,67,2],[70,5,67,3],[71,4,69,2],[71,10,69,8,"logout"],[71,16,69,14],[71,19,69,17],[71,25,69,17,"logout"],[71,26,69,17],[71,31,69,29],[72,6,70,4],[72,12,70,10,"AsyncStorage"],[72,24,70,22],[72,25,70,22,"default"],[72,32,70,22],[72,33,70,23,"removeItem"],[72,43,70,33],[72,44,70,34],[72,51,70,41],[72,52,70,42],[73,6,71,4,"setToken"],[73,14,71,12],[73,15,71,13],[73,19,71,17],[73,20,71,18],[74,6,72,4,"setUser"],[74,13,72,11],[74,14,72,12],[74,18,72,16],[74,19,72,17],[75,4,73,2],[75,5,73,3],[76,4,75,2],[76,10,75,8,"updateUser"],[76,20,75,18],[76,23,75,21],[76,29,75,28,"data"],[76,33,75,47],[76,37,75,52],[77,6,76,4],[77,12,76,10,"response"],[77,20,76,18],[77,23,76,21],[77,29,76,27,"authAPI"],[77,41,76,34],[77,42,76,34,"authAPI"],[77,49,76,34],[77,50,76,35,"updateProfile"],[77,63,76,48],[77,64,76,49,"data"],[77,68,76,53],[77,69,76,54],[78,6,77,4,"setUser"],[78,13,77,11],[78,14,77,12,"response"],[78,22,77,20],[78,23,77,21,"data"],[78,27,77,25],[78,28,77,26],[79,4,78,2],[79,5,78,3],[80,4,80,2],[80,10,80,8,"refreshUser"],[80,21,80,19],[80,24,80,22],[80,30,80,22,"refreshUser"],[80,31,80,22],[80,36,80,34],[81,6,81,4],[81,12,81,10,"response"],[81,20,81,18],[81,23,81,21],[81,29,81,27,"authAPI"],[81,41,81,34],[81,42,81,34,"authAPI"],[81,49,81,34],[81,50,81,35,"getMe"],[81,55,81,40],[81,56,81,41],[81,57,81,42],[82,6,82,4,"setUser"],[82,13,82,11],[82,14,82,12,"response"],[82,22,82,20],[82,23,82,21,"data"],[82,27,82,25],[82,28,82,26],[83,4,83,2],[83,5,83,3],[84,4,85,2],[84,24,86,4],[84,28,86,4,"_reactJsxDevRuntime"],[84,47,86,4],[84,48,86,4,"jsxDEV"],[84,54,86,4],[84,56,86,5,"AuthContext"],[84,67,86,16],[84,68,86,17,"Provider"],[84,76,86,25],[85,6,86,26,"value"],[85,11,86,31],[85,13,86,33],[86,8,86,35,"user"],[86,12,86,39],[87,8,86,41,"token"],[87,13,86,46],[88,8,86,48,"isLoading"],[88,17,86,57],[89,8,86,59,"login"],[89,13,86,64],[90,8,86,66,"signup"],[90,14,86,72],[91,8,86,74,"logout"],[91,14,86,80],[92,8,86,82,"updateUser"],[92,18,86,92],[93,8,86,94,"refreshUser"],[94,6,86,106],[94,7,86,108],[95,6,86,108,"children"],[95,14,86,108],[95,16,87,7,"children"],[96,4,87,15],[97,6,87,15,"fileName"],[97,14,87,15],[97,16,87,15,"_jsxFileName"],[97,28,87,15],[98,6,87,15,"lineNumber"],[98,16,87,15],[99,6,87,15,"columnNumber"],[99,18,87,15],[100,4,87,15],[100,11,88,26],[100,12,88,27],[101,2,90,0],[102,2,90,1,"_s"],[102,4,90,1],[102,5,28,16,"AuthProvider"],[102,17,28,28],[103,2,28,28,"_c"],[103,4,28,28],[103,7,28,16,"AuthProvider"],[103,19,28,28],[104,2,92,7],[104,11,92,16,"useAuth"],[104,18,92,23,"useAuth"],[104,19,92,23],[104,21,92,26],[105,4,92,26,"_s2"],[105,7,92,26],[106,4,93,2],[106,10,93,8,"context"],[106,17,93,15],[106,20,93,18],[106,24,93,18,"useContext"],[106,30,93,28],[106,31,93,28,"useContext"],[106,41,93,28],[106,43,93,29,"AuthContext"],[106,54,93,40],[106,55,93,41],[107,4,94,2],[107,8,94,6,"context"],[107,15,94,13],[107,20,94,18,"undefined"],[107,29,94,27],[107,31,94,29],[108,6,95,4],[108,12,95,10],[108,16,95,14,"Error"],[108,21,95,19],[108,22,95,20],[108,67,95,65],[108,68,95,66],[109,4,96,2],[110,4,97,2],[110,11,97,9,"context"],[110,18,97,16],[111,2,98,0],[112,2,98,1,"_s2"],[112,5,98,1],[112,6,92,16,"useAuth"],[112,13,92,23],[113,2,92,23],[113,6,92,23,"_c"],[113,8,92,23],[114,2,92,23,"$RefreshReg$"],[114,14,92,23],[114,15,92,23,"_c"],[114,17,92,23],[115,0,92,23],[115,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","updateUser","refreshUser","useAuth"],"mappings":"AAA;OC2B;YCK;GDE;yBEE;GFc;gBGE;GHM;iBIE;GJM;iBKE;GLI;qBME;GNG;sBOE;GPG;CDO;OSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}