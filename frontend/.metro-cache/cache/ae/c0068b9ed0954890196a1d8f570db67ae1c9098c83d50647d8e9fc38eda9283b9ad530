{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await _servicesApi.authAPI.getMe();\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Error loading auth:', error);\n        await AsyncStorage.default.removeItem('token');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await _servicesApi.authAPI.login({\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', newToken);\n      setToken(newToken);\n      setUser(userData);\n    };\n    const signup = async data => {\n      const response = await _servicesApi.authAPI.signup(data);\n      const {\n        token: newToken,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', newToken);\n      setToken(newToken);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = async data => {\n      const response = await _servicesApi.authAPI.updateProfile(data);\n      setUser(response.data);\n    };\n    const refreshUser = async () => {\n      const response = await _servicesApi.authAPI.getMe();\n      setUser(response.data);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        signup,\n        logout,\n        updateUser,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":106,"map":[[13,2,28,0,"exports"],[13,9,28,0],[13,10,28,0,"AuthProvider"],[13,22,28,0],[13,25,28,0,"AuthProvider"],[13,37,28,0],[14,2,92,0,"exports"],[14,9,92,0],[14,10,92,0,"useAuth"],[14,17,92,0],[14,20,92,0,"useAuth"],[14,27,92,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_servicesApi"],[18,18,3,0],[18,21,3,0,"require"],[18,28,3,0],[18,29,3,0,"_dependencyMap"],[18,43,3,0],[19,2,3,42],[19,6,3,42,"_reactJsxDevRuntime"],[19,25,3,42],[19,28,3,42,"require"],[19,35,3,42],[19,36,3,42,"_dependencyMap"],[19,50,3,42],[20,2,26,0],[20,8,26,6,"AuthContext"],[20,19,26,17],[20,35,26,20],[20,39,26,20,"createContext"],[20,45,26,33],[20,46,26,33,"createContext"],[20,59,26,33],[20,61,26,63,"undefined"],[20,70,26,72],[20,71,26,73],[21,2,28,7],[21,11,28,16,"AuthProvider"],[21,23,28,28,"AuthProvider"],[21,24,28,29],[22,4,28,31,"children"],[23,2,28,65],[23,3,28,66],[23,5,28,68],[24,4,29,2],[24,10,29,8],[24,11,29,9,"user"],[24,15,29,13],[24,17,29,15,"setUser"],[24,24,29,22],[24,25,29,23],[24,28,29,26],[24,32,29,26,"useState"],[24,38,29,34],[24,39,29,34,"useState"],[24,47,29,34],[24,49,29,48],[24,53,29,52],[24,54,29,53],[25,4,30,2],[25,10,30,8],[25,11,30,9,"token"],[25,16,30,14],[25,18,30,16,"setToken"],[25,26,30,24],[25,27,30,25],[25,30,30,28],[25,34,30,28,"useState"],[25,40,30,36],[25,41,30,36,"useState"],[25,49,30,36],[25,51,30,52],[25,55,30,56],[25,56,30,57],[26,4,31,2],[26,10,31,8],[26,11,31,9,"isLoading"],[26,20,31,18],[26,22,31,20,"setIsLoading"],[26,34,31,32],[26,35,31,33],[26,38,31,36],[26,42,31,36,"useState"],[26,48,31,44],[26,49,31,44,"useState"],[26,57,31,44],[26,59,31,45],[26,63,31,49],[26,64,31,50],[27,4,33,2],[27,8,33,2,"useEffect"],[27,14,33,11],[27,15,33,11,"useEffect"],[27,24,33,11],[27,26,33,12],[27,32,33,18],[28,6,34,4,"loadStoredAuth"],[28,20,34,18],[28,21,34,19],[28,22,34,20],[29,4,35,2],[29,5,35,3],[29,7,35,5],[29,9,35,7],[29,10,35,8],[30,4,37,2],[30,10,37,8,"loadStoredAuth"],[30,24,37,22],[30,27,37,25],[30,33,37,25,"loadStoredAuth"],[30,34,37,25],[30,39,37,37],[31,6,38,4],[31,10,38,8],[32,8,39,6],[32,14,39,12,"storedToken"],[32,25,39,23],[32,28,39,26],[32,34,39,32,"AsyncStorage"],[32,46,39,44],[32,47,39,44,"default"],[32,54,39,44],[32,55,39,45,"getItem"],[32,62,39,52],[32,63,39,53],[32,70,39,60],[32,71,39,61],[33,8,40,6],[33,12,40,10,"storedToken"],[33,23,40,21],[33,25,40,23],[34,10,41,8,"setToken"],[34,18,41,16],[34,19,41,17,"storedToken"],[34,30,41,28],[34,31,41,29],[35,10,42,8],[35,16,42,14,"response"],[35,24,42,22],[35,27,42,25],[35,33,42,31,"authAPI"],[35,45,42,38],[35,46,42,38,"authAPI"],[35,53,42,38],[35,54,42,39,"getMe"],[35,59,42,44],[35,60,42,45],[35,61,42,46],[36,10,43,8,"setUser"],[36,17,43,15],[36,18,43,16,"response"],[36,26,43,24],[36,27,43,25,"data"],[36,31,43,29],[36,32,43,30],[37,8,44,6],[38,6,45,4],[38,7,45,5],[38,8,45,6],[38,15,45,13,"error"],[38,20,45,18],[38,22,45,20],[39,8,46,6,"console"],[39,15,46,13],[39,16,46,14,"log"],[39,19,46,17],[39,20,46,18],[39,41,46,39],[39,43,46,41,"error"],[39,48,46,46],[39,49,46,47],[40,8,47,6],[40,14,47,12,"AsyncStorage"],[40,26,47,24],[40,27,47,24,"default"],[40,34,47,24],[40,35,47,25,"removeItem"],[40,45,47,35],[40,46,47,36],[40,53,47,43],[40,54,47,44],[41,6,48,4],[41,7,48,5],[41,16,48,14],[42,8,49,6,"setIsLoading"],[42,20,49,18],[42,21,49,19],[42,26,49,24],[42,27,49,25],[43,6,50,4],[44,4,51,2],[44,5,51,3],[45,4,53,2],[45,10,53,8,"login"],[45,15,53,13],[45,18,53,16],[45,24,53,16,"login"],[45,25,53,23,"email"],[45,30,53,36],[45,32,53,38,"password"],[45,40,53,54],[45,45,53,59],[46,6,54,4],[46,12,54,10,"response"],[46,20,54,18],[46,23,54,21],[46,29,54,27,"authAPI"],[46,41,54,34],[46,42,54,34,"authAPI"],[46,49,54,34],[46,50,54,35,"login"],[46,55,54,40],[46,56,54,41],[47,8,54,43,"email"],[47,13,54,48],[48,8,54,50,"password"],[49,6,54,59],[49,7,54,60],[49,8,54,61],[50,6,55,4],[50,12,55,10],[51,8,55,12,"token"],[51,13,55,17],[51,15,55,19,"newToken"],[51,23,55,27],[52,8,55,29,"user"],[52,12,55,33],[52,14,55,35,"userData"],[53,6,55,44],[53,7,55,45],[53,10,55,48,"response"],[53,18,55,56],[53,19,55,57,"data"],[53,23,55,61],[54,6,56,4],[54,12,56,10,"AsyncStorage"],[54,24,56,22],[54,25,56,22,"default"],[54,32,56,22],[54,33,56,23,"setItem"],[54,40,56,30],[54,41,56,31],[54,48,56,38],[54,50,56,40,"newToken"],[54,58,56,48],[54,59,56,49],[55,6,57,4,"setToken"],[55,14,57,12],[55,15,57,13,"newToken"],[55,23,57,21],[55,24,57,22],[56,6,58,4,"setUser"],[56,13,58,11],[56,14,58,12,"userData"],[56,22,58,20],[56,23,58,21],[57,4,59,2],[57,5,59,3],[58,4,61,2],[58,10,61,8,"signup"],[58,16,61,14],[58,19,61,17],[58,25,61,24,"data"],[58,29,61,99],[58,33,61,104],[59,6,62,4],[59,12,62,10,"response"],[59,20,62,18],[59,23,62,21],[59,29,62,27,"authAPI"],[59,41,62,34],[59,42,62,34,"authAPI"],[59,49,62,34],[59,50,62,35,"signup"],[59,56,62,41],[59,57,62,42,"data"],[59,61,62,46],[59,62,62,47],[60,6,63,4],[60,12,63,10],[61,8,63,12,"token"],[61,13,63,17],[61,15,63,19,"newToken"],[61,23,63,27],[62,8,63,29,"user"],[62,12,63,33],[62,14,63,35,"userData"],[63,6,63,44],[63,7,63,45],[63,10,63,48,"response"],[63,18,63,56],[63,19,63,57,"data"],[63,23,63,61],[64,6,64,4],[64,12,64,10,"AsyncStorage"],[64,24,64,22],[64,25,64,22,"default"],[64,32,64,22],[64,33,64,23,"setItem"],[64,40,64,30],[64,41,64,31],[64,48,64,38],[64,50,64,40,"newToken"],[64,58,64,48],[64,59,64,49],[65,6,65,4,"setToken"],[65,14,65,12],[65,15,65,13,"newToken"],[65,23,65,21],[65,24,65,22],[66,6,66,4,"setUser"],[66,13,66,11],[66,14,66,12,"userData"],[66,22,66,20],[66,23,66,21],[67,4,67,2],[67,5,67,3],[68,4,69,2],[68,10,69,8,"logout"],[68,16,69,14],[68,19,69,17],[68,25,69,17,"logout"],[68,26,69,17],[68,31,69,29],[69,6,70,4],[69,12,70,10,"AsyncStorage"],[69,24,70,22],[69,25,70,22,"default"],[69,32,70,22],[69,33,70,23,"removeItem"],[69,43,70,33],[69,44,70,34],[69,51,70,41],[69,52,70,42],[70,6,71,4,"setToken"],[70,14,71,12],[70,15,71,13],[70,19,71,17],[70,20,71,18],[71,6,72,4,"setUser"],[71,13,72,11],[71,14,72,12],[71,18,72,16],[71,19,72,17],[72,4,73,2],[72,5,73,3],[73,4,75,2],[73,10,75,8,"updateUser"],[73,20,75,18],[73,23,75,21],[73,29,75,28,"data"],[73,33,75,47],[73,37,75,52],[74,6,76,4],[74,12,76,10,"response"],[74,20,76,18],[74,23,76,21],[74,29,76,27,"authAPI"],[74,41,76,34],[74,42,76,34,"authAPI"],[74,49,76,34],[74,50,76,35,"updateProfile"],[74,63,76,48],[74,64,76,49,"data"],[74,68,76,53],[74,69,76,54],[75,6,77,4,"setUser"],[75,13,77,11],[75,14,77,12,"response"],[75,22,77,20],[75,23,77,21,"data"],[75,27,77,25],[75,28,77,26],[76,4,78,2],[76,5,78,3],[77,4,80,2],[77,10,80,8,"refreshUser"],[77,21,80,19],[77,24,80,22],[77,30,80,22,"refreshUser"],[77,31,80,22],[77,36,80,34],[78,6,81,4],[78,12,81,10,"response"],[78,20,81,18],[78,23,81,21],[78,29,81,27,"authAPI"],[78,41,81,34],[78,42,81,34,"authAPI"],[78,49,81,34],[78,50,81,35,"getMe"],[78,55,81,40],[78,56,81,41],[78,57,81,42],[79,6,82,4,"setUser"],[79,13,82,11],[79,14,82,12,"response"],[79,22,82,20],[79,23,82,21,"data"],[79,27,82,25],[79,28,82,26],[80,4,83,2],[80,5,83,3],[81,4,85,2],[81,24,86,4],[81,28,86,4,"_reactJsxDevRuntime"],[81,47,86,4],[81,48,86,4,"jsxDEV"],[81,54,86,4],[81,56,86,5,"AuthContext"],[81,67,86,16],[81,68,86,17,"Provider"],[81,76,86,25],[82,6,86,26,"value"],[82,11,86,31],[82,13,86,33],[83,8,86,35,"user"],[83,12,86,39],[84,8,86,41,"token"],[84,13,86,46],[85,8,86,48,"isLoading"],[85,17,86,57],[86,8,86,59,"login"],[86,13,86,64],[87,8,86,66,"signup"],[87,14,86,72],[88,8,86,74,"logout"],[88,14,86,80],[89,8,86,82,"updateUser"],[89,18,86,92],[90,8,86,94,"refreshUser"],[91,6,86,106],[91,7,86,108],[92,6,86,108,"children"],[92,14,86,108],[92,16,87,7,"children"],[93,4,87,15],[94,6,87,15,"fileName"],[94,14,87,15],[94,16,87,15,"_jsxFileName"],[94,28,87,15],[95,6,87,15,"lineNumber"],[95,16,87,15],[96,6,87,15,"columnNumber"],[96,18,87,15],[97,4,87,15],[97,11,88,26],[97,12,88,27],[98,2,90,0],[99,2,92,7],[99,11,92,16,"useAuth"],[99,18,92,23,"useAuth"],[99,19,92,23],[99,21,92,26],[100,4,93,2],[100,10,93,8,"context"],[100,17,93,15],[100,20,93,18],[100,24,93,18,"useContext"],[100,30,93,28],[100,31,93,28,"useContext"],[100,41,93,28],[100,43,93,29,"AuthContext"],[100,54,93,40],[100,55,93,41],[101,4,94,2],[101,8,94,6,"context"],[101,15,94,13],[101,20,94,18,"undefined"],[101,29,94,27],[101,31,94,29],[102,6,95,4],[102,12,95,10],[102,16,95,14,"Error"],[102,21,95,19],[102,22,95,20],[102,67,95,65],[102,68,95,66],[103,4,96,2],[104,4,97,2],[104,11,97,9,"context"],[104,18,97,16],[105,2,98,0],[106,0,98,1],[106,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","updateUser","refreshUser","useAuth"],"mappings":"AAA;OC2B;YCK;GDE;yBEE;GFc;gBGE;GHM;iBIE;GJM;iBKE;GLI;qBME;GNG;sBOE;GPG;CDO;OSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}